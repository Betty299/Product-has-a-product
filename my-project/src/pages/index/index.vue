<template>
  <div class="wrapper">
    <div class="search">
      <input placeholder="搜索" disabled/>
    </div>
    <!-- <nav class="_scroll">
      <li 
      v-for="(item,index) in tab"
      :key="index"
      :class="[index===ind?'active':'null']"
      @click="click(item,index)"
      >{{item.cname}}</li>
    </nav> -->
  
    <section class="main">
      <div class="conter">
        <div class="swiper">
             <swiper class="u-wrp-bnr" autoplay="true" indicator-dots='true'>
                <swiper-item class="u-item" 
                v-for="(item,index) in swiper"
                :key="index"
                >
                  <image :src='item.imgUrl' class='u-img-slide' mode='aspectFill'></image>
                </swiper-item>
            </swiper>
        </div>
        <div class="conter-nav">
          <dl v-for="(item,index) in nav"
          :key="index"
          >
            <dt>
              <img
                :src="item.imgUrl"
              />
            </dt>
            <dd>{{item.title}}</dd>
          </dl>
        </div>
        <div class="bao">
          <img
            :src="tu"
          />
        </div>
        <div class="tu">
          <img
            src="https://jnup.oss-cn-beijing.aliyuncs.com/product/82bbf5eb5ec638aa1a471ae2b0126eee.jpg?x-oss-process=style/small"
          />
        </div>
        <div class="selected">
          <div class="nav">
            <label class="_span">精选好物</label>
            <label class="_spans">等你来抢</label>
          </div>
          <img src="/static/images/Group 2.svg" />
        </div>
        <shouyeDl :dl="dl"></shouyeDl>
        <div class="tu">
          <img
            :src="tu2"
          />
        </div>
        <div class="selected">
          <div class="nav">
            <label class="_span">精选好物</label>
            <label class="_spans">等你来抢</label>
          </div>
          <img src="/static/images/Group 2.svg" />
        </div>
        <shouyeDl :dl='dl1'></shouyeDl>
        <div class="tu">
          <img
            :src="tu3"
          />
        </div>
        <div class="selected">
          <div class="nav">
            <label class="_span">精选好物</label>
            <label class="_spans">等你来抢</label>
          </div>
          <img src="/static/images/Group 2.svg" />
        </div>
        <shouyeDl :dl='dl2'></shouyeDl>
        <div class="tu">
          <img
            :src="tu3"
          />
        </div>
        <div class="selected">
          <div class="nav">
            <label class="_span">精选好物</label>
            <label class="_spans">等你来抢</label>
          </div>
          <img src="/static/images/Group 2.svg" />
        </div>
        <shouyeDl :dl='dl3'></shouyeDl>
        <div class="tu">
          <img
            :src="tu5"
          />
        </div>
        <div class="selected">
          <div class="nav">
            <label class="_span">精选好物</label>
            <label class="_spans">等你来抢</label>
          </div>
          <img src="/static/images/Group 2.svg" />
        </div>
        <shouyeDl :dl='dl4'></shouyeDl>
        <div class="list">
          <div class="selected">
            <div class="nav">
              <label class="_span">为你精选</label>
              <label class="_spans">等你来抢</label>
            </div>
          </div>
          <shouyeList :list='listData'></shouyeList>
        </div>
      </div>
    </section>
  </div>
</template>
<script>
import shouyeDl from "../../components/dl";
import shouyeList from '../../components/list'
import { mapState, mapActions } from "vuex";
export default {
  props: {},
  components: {
    shouyeDl,
    shouyeList
  },
  data() {
    return {
    };
  },
  computed: {
    ...mapState({
      // shouyeData: state => state.shouye.shouyeData,
      swiper: state => state.shouye.swiper,
      nav: state => state.shouye.nav,
      tu: state => state.shouye.tu,
      tu1: state => state.shouye.tu1,
      dl: state => state.shouye.dl,
      tu2: state => state.shouye.tu2,
      dl1: state => state.shouye.dl1,
      tu3: state => state.shouye.tu3,
      dl2: state => state.shouye.dl2,
      tu4: state => state.shouye.tu4,
      dl3: state => state.shouye.dl3,
      tu5: state => state.shouye.tu5,
      dl4: state => state.shouye.dl4,
      tab:state => state.shouye.tab,
      listData:state => state.shouye.listData,
      ind:state => state.shouye.ind
    }),
  },
  methods: {
    ...mapActions({
      getData: 'shouye/getData',
      getNavData:'shouye/getNavData',
      getLData:'shouye/getLData',
      getInd:'shouye/getInd'
    }),
    click(item,index){
      this.getInd({index,item})
      wx.navigateTo({ url: "/pages/classify/main" });
    }
  },
  created() {},
  onShow(){
    this.getData()
    this.getNavData()
    this.getLData()
  },
  mounted() {}
};
</script>
<style scoped lang="scss">
.wrapper {
  width: 100%;
  height: 100%;
  .search {
    width: 100%;
    height: 60rpx;
    display: block;
    padding: 0 20rpx;
    box-sizing: border-box;
    input {
      width: 100%;
      height: 100%;
      background: #eee;
    }
  }
  ::-webkit-scrollbar {
  width: 0;
  height: 0;
  color: transparent;
}
  ._scroll {
    width: 100%;
    display: flex;
    white-space: nowrap;
    height: 100rpx;
    background: #fff;
    overflow-x: auto;
    ._li {
      font-size: 32rpx;
      display: inline-block;
      height: 100rpx;
      line-height: 94rpx;
      text-align: center;
      color: #484848;
      box-sizing: border-box;
      margin: 0 20rpx;
    }
    .active {
      border-bottom: 6rpx solid #56d2bf;
      line-height: 94rpx;
      font-weight: 500;
      color: #56d2bf;
    }
  }
  .main {
    .conter {
      width: 100%;
      height: 100%;
      .swiper {
        width: 100vw;
        padding: 0 10rpx;
        height: 39.5vw;
        margin-bottom: 20rpx;
        margin-top: 10rpx;
        box-sizing: border-box;
       .u-wrp-bnr{
         width:100%;
height:39.5vw;
box-sizing:border-box;
display: block;
     .u-item{
       position:absolute;
width:100%;
height:100%;
transform:translate(0%, 0px) translateZ(0px);
 display:block;
overflow:hidden;
will-change:transform;
 image{
   height:100%;
width:100%;
border-radius:10rpx;
display:inline-block;
overflow:hidden;

 }
     }
       }
      }
      .conter-nav {
        display: flex;
        dl {
          width: 20%;
          box-sizing: border-box;
          text-align: center;
          margin: 0 0 20rpx;
          dt {
            width: 100%;
            img {
              width: 114rpx;
              height: 114rpx;
              display: inline-block;
              overflow: hidden;
            }
          }
          dd {
            width: 100%;
            font-size: 24rpx;
            line-height: 2;
          }
        }
      }
      .bao {
        width: 100%;
        height: 208rpx;
        img {
          width: 96%;
          height: 100%;
          margin: 0 2%;
          border-radius: 30rpx;
          display: inline-block;
          overflow: hidden;
        }
      }
      .selected {
        display: flex;
        font-size: 26rpx;
        justify-content: space-between;
        padding: 0 20rpx;
        margin: 6rpx 0;
        line-height: 3;
        .nav {
          display: block;
          ._span {
            font-size: 40rpx;
            padding-right: 20rpx;
          }
          ._spans {
            border-left: 4rpx solid #ccc;
            padding-left: 20rpx;
            box-sizing: border-box;
            font-size: 32rpx;
          }
        }
        img {
          width: 72rpx;
          height: 32rpx;
          margin-top: 44rpx;
          display: inline-block;
          overflow: hidden;
        }
      }
      .tu {
        width: 100%;
        height: 208rpx;
        img {
          width: 96%;
          height: 100%;
          margin: 0 2%;
          border-radius: 30rpx;
          display: inline-block;
          overflow: hidden;
        }
      }
    }
  }
}
.list {
  width: 100%;
  .selected {
    display: flex;
    font-size: 26rpx;
    justify-content: space-between;
    padding: 0 20rpx;
    margin: 6rpx 0;
    line-height: 3;
    .nav {
      display: block;
      ._span {
        font-size: 40rpx;
        padding-right: 20rpx;
      }
      ._spans {
        border-left: 4rpx solid #ccc;
        padding-left: 20rpx;
        box-sizing: border-box;
        font-size: 32rpx;
      }
    }
  }
}
</style>